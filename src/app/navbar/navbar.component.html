<nav class="fixed flex justify-center space-x-4 w-full bg-white z-10 dark:bg-black">
  <div class="container mx-auto py-5 flex items-center justify-between">
    <div class="flex items-center gap-2 relative profile-container">  <!-- Added 'relative' here -->
      <div class="w-8 h-8 rounded-full overflow-hidden ring-2 ring-white hover:ring-red-500" (click)="toggleProfile($event)" data-toggle="profile">
        <img [src]="'assets/images/images.png'" alt="Profile image" class="w-full h-full object-cover">
      </div>
      <ul *ngIf="isProfileOpen"
        class="bg-indigo-900 absolute left-full top-full mt-1 w-fit p-4 rounded-b-3xl rounded-tr-2xl space-y-4 text-center z-50">
        <li class="hover:bg-gray-100 font-medium rounded-lg px-3 py-2">
          <a href="#dashboard">
            Profile
          </a>
        </li>
        <li class="hover:bg-gray-100 font-medium rounded-lg px-3 py-2">
          <a href="#info">
            Log out
          </a>
        </li>
      </ul>
      <span class="text-2xl font-bold text-indigo-900 dark:text-white">ALI.</span>
    </div>
    <ul class="hidden md:flex lg:flex space-x-10 text-gray-600 dark:text-gray-100 font-bold text-sm uppercase">
      <li class="font-medium rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-900">
        <a href="#dashboard">
          Home
        </a>
      </li>
      <li class="font-medium rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-900">
        <a href="#info">
          about me
        </a>
      </li>
      <li class="font-medium rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-900">
        <a [routerLink]="'service'" routerLinkActive="text-blue-500">
          service
        </a>
      </li>
      <li class="font-medium rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-900">
        <a href="#reports">
          works
        </a>
      </li>
      <li class="font-medium rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-900">
        <a href="#reports">
          contact
        </a>
      </li>
    </ul>
    <div class="flex items-center gap-4">
      <!-- Language Selector - Now visible on all devices -->
      <div class="relative">
        <select class="appearance-none bg-transparent border border-gray-300 dark:border-gray-700 rounded-md py-1 pl-3 pr-8 text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 cursor-pointer">
          <option value="en">EN</option>
          <option value="ar">عربي</option>
        </select>
        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300">
          <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </div>
      </div>
      
      <!-- Dark Mode Toggle -->
      <button (click)="toggleDarkMode()" class="hidden md:flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
        <!-- Sun icon for dark mode (show when dark mode is active) -->
        <svg *ngIf="isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>
        <!-- Moon icon for light mode (show when light mode is active) -->
        <svg *ngIf="!isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
        </svg>
      </button>
      <!-- Mobile Menu Container - Added for click-outside functionality -->
      <div class="mobile-menu-container relative md:hidden">
        <!-- Mobile Menu Toggle Button -->
        <div class="space-y-1 cursor-pointer z-20 bg-white dark:bg-black" (click)="toggleMenu($event)" data-toggle="menu">
          <div class="w-6 h-0.5 bg-black dark:bg-white"></div>
          <div class="w-6 h-0.5 bg-black dark:bg-white"></div>
          <div class="w-6 h-0.5 bg-black dark:bg-white"></div>
        </div>
      </div>
      
      <!-- Mobile Menu Items -->
      <div class="mobile-menu-dropdown" *ngIf="isMenuOpen">
        <ul class="bg-indigo-900 fixed left-0 top-0 w-full p-10 rounded-b-3xl space-y-10 text-center z-50">
        <li>
          <a href="#dashboard">
            Home
          </a>
        </li>
        <li>
          <a href="#info">
            about me
          </a>
        </li>
        <li>
          <a [routerLink]="'service'" routerLinkActive="text-blue-500">
            service
          </a>
        </li>
        <li>
          <a href="#reports">
            works
          </a>
        </li>
        <li>
          <a href="#reports">
            contact
          </a>
        </li>
      </ul>
      </div>
      <!-- End of Mobile Menu Dropdown -->
    </div>
  </div>
</nav>